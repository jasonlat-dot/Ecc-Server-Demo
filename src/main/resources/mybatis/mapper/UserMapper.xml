<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="io.github.jasonlat.infrastructure.persistent.dao.IUserDao">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="io.github.jasonlat.infrastructure.persistent.po.User">
        <id column="id" property="id" />
        <result column="password" property="password" />
        <result column="email" property="email" />
        <result column="appid" property="appid" />
        <result column="user_type" property="userType" />
        <result column="created_at" property="createdAt" />
        <result column="updated_at" property="updatedAt" />
        <result column="last_login" property="lastLogin" />
        <result column="status" property="status" />
        <result column="avatar_url" property="avatarUrl" />
    </resultMap>

    <select id="queryOneWithEmail" resultType="io.github.jasonlat.infrastructure.persistent.po.User">
        SELECT
            id, password, email, user_type, avatar_url, last_login, status
        FROM user
        where email = #{email} LIMIT 1
    </select>

    <select id="queryOneWithUserId" resultType="io.github.jasonlat.infrastructure.persistent.po.User">
        SELECT
            id, password, email, user_type, avatar_url, last_login, status
        FROM user
        where id = #{id} LIMIT 1
    </select>


</mapper>
