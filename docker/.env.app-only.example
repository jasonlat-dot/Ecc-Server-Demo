# ================================
# ECC Server Demo - 仅应用部署环境变量配置
# ================================
# 说明：此配置用于服务器已有MySQL、Redis等服务的部署场景
# 使用方法：复制此文件为 .env 并根据实际情况修改配置

# ================================
# Spring 配置
# ================================
SPRING_PROFILES_ACTIVE=prod

# ================================
# Jasypt 加密配置
# ================================
# 用于解密配置文件中的加密字段
JASYPT_ENCRYPTOR_PASSWORD=lijiaqiang1024@wt1314520

# ================================
# 数据库配置（外部MySQL）
# ================================
DB_HOST=your-mysql-host
DB_PORT=3306
DB_NAME=ecc
DB_USERNAME=your-db-username
DB_PASSWORD=your-db-password

# ================================
# Redis 配置（外部Redis）
# ================================
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DATABASE=0

# ================================
# RabbitMQ 配置（外部RabbitMQ，可选）
# ================================
RABBITMQ_HOST=your-rabbitmq-host
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=your-rabbitmq-username
RABBITMQ_PASSWORD=your-rabbitmq-password
RABBITMQ_VIRTUAL_HOST=/

# ================================
# 邮件服务配置
# ================================
MAIL_HOST=smtp.qq.com
MAIL_PORT=587
MAIL_USERNAME=your-email@qq.com
MAIL_PASSWORD=your-email-password

# ================================
# JVM 参数配置
# ================================
# 根据服务器配置调整内存大小
JAVA_OPTS=-Xms512m -Xmx1024m -XX:+UseG1GC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Xloggc:/app/data/log/gc.log

# ================================
# 服务器配置
# ================================
SERVER_PORT=8089

# ================================
# 部署说明
# ================================
# 1. 确保外部MySQL数据库已创建并导入了 mysql/ecc.sql
# 2. 确保外部Redis服务正常运行
# 3. 如果使用RabbitMQ，确保服务正常运行
# 4. 修改上述配置中的主机地址、用户名、密码等信息
# 5. 运行命令：docker-compose -f docker/docker-compose.app-only.yml --env-file docker/.env up -d